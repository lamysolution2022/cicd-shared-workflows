# 메시징 릴리스 거버넌스 정책 v1

- SubmissionId: `5262c6a5a9e14d66bd897fb88354be42`
- PlanId: `7009f4e7-03cd-49b1-bf4a-5a11b82716ec`
- 작성일: 2026-02-19
- 작성자: Platform Engineer (CI/CD Owner)

## 1) SemVer 증가 조건
### Major (X.0.0)
- 메시지 계약의 브레이킹 변경 발생 시
- 예시:
  - 필수 필드 삭제
  - 기존 필드 타입 변경(string -> int)
  - enum 값 제거
  - 토픽/라우팅 키 의미 변경(소비자 무수정 호환 불가)

### Minor (x.Y.0)
- 하위호환 확장 변경 시
- 예시:
  - optional 필드 추가
  - 신규 이벤트 타입 추가(기존 타입 비영향)
  - 메타데이터 필드(traceId 등) 확장

### Patch (x.y.Z)
- 계약 불변 상태의 내부 수정 시
- 예시:
  - 문서/오탈자/테스트 보완
  - 성능 최적화(스키마/직렬화 계약 무변경)

## 2) 브레이킹 판정 기준
- 아래 중 1개 이상이면 브레이킹 판정:
  1. baseline 대비 required 필드 감소
  2. baseline 필드 타입 불일치
  3. 기본 역직렬화 실패 케이스 증가
  4. 호환성 테스트 게이트 실패

## 3) PR 체크리스트(필수)
- [ ] SemVer 증가 타입(Major/Minor/Patch) 명시
- [ ] 메시지 계약 변경 여부/영향 소비자 목록 작성
- [ ] 호환성 테스트(계약/직렬화) 결과 첨부
- [ ] 롤백 절차 검토 완료
- [ ] 릴리스 노트 초안 작성 완료

## 4) 릴리스 승인 조건
1. CI 필수 게이트 성공
- architecture 역의존 금지
- message compatibility
- serialization compatibility

2. 릴리스 산출물 조건
- 태그 형식 `vX.Y.Z`
- 릴리스 노트 필수 항목
  - 변경 요약
  - 브레이킹 여부
  - 마이그레이션 가이드(브레이킹 시)
  - 롤백 포인트

3. 차단 규칙
- 필수 게이트 1개라도 실패 시 릴리스 차단
- 브레이킹 변경인데 Major 미상향 시 차단
- 릴리스 노트 누락 시 차단

## 5) 운영 원칙
- Coordination 단일 채널
- Owner 직접 소통 금지
